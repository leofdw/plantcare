<!-- –ú–æ–¥–∞–ª—å–Ω–æ –æ–∫–Ω–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π –æ —Ä–∞—Å—Ç–µ–Ω–∏–∏ -->>
<style>
    /* === –ù–û–í–û–ï –°–¢–ò–õ–¨–ù–û–ï –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û === */
    .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(8px);
        justify-content: center;
        align-items: center;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .modal.active {
        display: flex;
        opacity: 1;
    }

    .modal-content {
        background: white;
        border-radius: 24px;
        box-shadow: 0 30px 60px -10px rgba(0, 0, 0, 0.2);
        max-width: 820px;
        width: 90%;
        max-height: 90vh;
        overflow-y: auto;
        overflow-x: hidden;
        transform: scale(0.95);
        transition: transform 0.3s ease;
        animation: modalFadeIn 0.4s forwards;
    }

    @keyframes modalFadeIn {
        to {
            transform: scale(1);
        }
    }

    .modal-header {
        position: relative;
        height: 280px;
        border-radius: 24px 24px 0 0;
        background-size: cover;
        background-position: center;
        box-shadow: inset 0 -100px 50px rgba(0, 0, 0, 0.2);
    }

    .close-new {
        position: absolute;
        top: 1rem;
        right: 1rem;
        width: 44px;
        height: 44px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        color: white;
        font-size: 28px;
        font-weight: 400;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        backdrop-filter: blur(5px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        transition: background 0.3s ease;
        line-height: 1;
    }

    .close-new svg {
        width: 24px;
        height: 24px;
    }

    .close-new path {
        stroke: white;
        stroke-width: 2;
        stroke-linecap: round;
    }

    .close-new:hover {
        background: rgba(255, 255, 255, 0.3);
    }

    .plant-info {
        padding: 2rem;
        color: #2d3748;
    }

    .plant-info h2 {
        font-size: 1.8rem;
        font-weight: 700;
        margin: 0 0 0.5rem 0;
        color: #1a1a1a;
    }

    .plant-info .latin {
        font-style: italic;
        color: #4a5568;
        font-size: 1.1rem;
        margin-bottom: 1.5rem;
    }

    .tags {
        display: flex;
        gap: 0.8rem;
        flex-wrap: wrap;
        margin: 1.5rem 0;
    }

    .tag {
        background: #f7fafc;
        border: 1px solid #e2e8f0;
        color: #2d3748;
        padding: 0.4rem 0.8rem;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 500;
    }

    .tag-icon {
        margin-right: 0.4rem;
    }

    .care-section {
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 16px;
        padding: 1.2rem;
        margin-bottom: 1rem;
        transition: transform 0.2s ease;
    }

    .care-section:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
    }

    .care-section h4 {
        margin: 0 0 0.5rem 0;
        font-weight: 600;
        color: #2d3748;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 1.1rem;
    }

    .care-section p {
        margin: 0;
        color: #4a5568;
        line-height: 1.6;
    }

    .care-details h3 {
        font-size: 1.6rem;
        color: #1a1a1a;
        margin: 2rem 0 1.2rem 0;
        font-weight: 600;
    }

    @media (max-width: 768px) {
        .modal-header {
            height: 240px;
        }
        .modal-content {
            width: 95%;
            border-radius: 20px;
        }
        .plant-info h2 {
            font-size: 1.6rem;
        }
    }
        .add-to-calendar {
        display: block;
        margin: 1.5rem auto 0;
        padding: 0.75rem 1.5rem;
        font-size: 1rem;
        text-align: center;
        background: #4caf50;
        color: white;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        max-width: 300px;
    }

    .add-to-calendar:hover {
        background: #45a049;
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(76, 175, 80, 0.3);
    }
</style>

<div id="plantModal" class="modal">
    <div class="modal-content">
        <div class="modal-header" id="modalPlantImage">
            <div class="close-new">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18 6L6 18M6 6L18 18" stroke="white" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </div>
        </div>
        <div class="plant-info" id="plantModalContent">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
    </div>
</div>

<script>
    function showPlantDetails(plantId) {
        const button = document.querySelector(`[data-id="${plantId}"].view-details`);
        if (!button) return;

        const plantCard = button.closest('.plant-card');
        const plantName = plantCard.dataset.name;
        const plantLatin = plantCard.dataset.latin;
        const plantImageUrl = plantCard.dataset.image;
        const plantType = plantCard.dataset.type;
        const lifespan = plantCard.dataset.lifespan;
        const light = plantCard.dataset.light;
        const water = plantCard.dataset.water;
        const description = plantCard.dataset.description;
        const additionalCare = plantCard.dataset.additionalCare;
        const temperature = plantCard.dataset.temperature;

        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        document.getElementById('modalPlantImage').style.backgroundImage = `url('${plantImageUrl}')`;

        // –ó–∞–ø–æ–ª–Ω—è–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
        document.getElementById('plantModalContent').innerHTML = `
            <h2>${plantName}</h2>
            <div class="latin">${plantLatin}</div>
            <p>${description}</p>

            <div class="tags">
                <div class="tag"><span class="tag-icon">üåø</span>${plantType}</div>
                <div class="tag"><span class="tag-icon">üìÖ</span>${lifespan}</div>
                <div class="tag"><span class="tag-icon">‚òÄÔ∏è</span>${light}</div>
            </div>

            <div class="care-details">
                <h3>–£—Ö–æ–¥ –∑–∞ —Ä–∞—Å—Ç–µ–Ω–∏–µ–º</h3>

                <div class="care-section">
                    <h4>üíß –ü–æ–ª–∏–≤</h4>
                    <p>${water}</p>
                </div>

                <div class="care-section">
                    <h4>üå°Ô∏è –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</h4>
                    <p>${temperature}</p>
                </div>

                <div class="care-section">
                    <h4>üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —É—Ö–æ–¥–∞</h4>
                    <p>${additionalCare}</p>
                </div>
            </div>
            <button class="add-to-calendar" 
                    data-plant-id="${plantId}" 
                    data-plant-name="${plantName}">
                üå± –î–æ–±–∞–≤–∏—Ç—å –≤ –≥—Ä–∞—Ñ–∏–∫ —É—Ö–æ–¥–∞
            </button>
        `;

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        const modal = document.getElementById('plantModal');
        modal.style.display = 'flex';
        setTimeout(() => modal.classList.add('active'), 10);

        const addToCalendarBtn = document.querySelector('.add-to-calendar');
        addToCalendarBtn.addEventListener('click', function () {
            window.location.href = `/calendar`;
        });
    }

    // === –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ ===
    const modal = document.getElementById('plantModal');
    const closeBtn = document.querySelector('.close-new');
    closeBtn.addEventListener('click', () => {
        modal.classList.remove('active');
        setTimeout(() => {
            modal.style.display = 'none';
        }, 300);
    });

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –æ–∫–Ω–∞
    modal.addEventListener('click', (e) => {
        if (e.target === modal) {
            modal.classList.remove('active');
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }
    });
</script>
